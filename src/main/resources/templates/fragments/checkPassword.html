<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>Title</title>
  <script src="http://code.jquery.com/jquery-3.5.1.min.js"></script>


</head>
  <body>
  <div style="display: flex; border: 1px solid black; width: 350px; margin: 30px">
    <div style="padding: 10px;width: 150px;
            background-color: rgb(236, 234, 234);
            text-align: center;">비밀번호<strong style="color: red">*</strong>
    </div>
    <div>
      <input style="margin: 10px; width: 200px" type="text" id="checkPw" placeholder="비밀번호를 입력해주세요"/>
    </div>
  </div>
  <div style="width: 350px; text-align: center; margin-left: 30px">
    <input type="button" value="닫기" style="width: 80px" onclick="window.close();" />
    <input type="button" value="확인" onclick="passCheck();"
           style="width: 80px; background-color: black; color: white"/>
  </div>

  <script th:inline="javascript">
    const passCheck = () => {
      const check = $("#checkPw").val();
      const type = /*[[${type}]]*/ '';
      const boardNo = /*[[${boardNo}]]*/ '';
      const passwordcheck=/^(?=.*[A-Za-z])(?=.*\d)(?=.*[!@#$%^&*()])[A-Za-z\d!@#$%^&*()]{4,16}$/;
      if(!passwordcheck.test(check)){
        alert("비밀번호는 영문, 숫자, 특수문자를 포함하고 글자 이상, 16글자 미만이어야 합니다.");
        return false;
      } else {
        opener.location.replace('/board/CheckPassword.do?boardNo=' + boardNo + '&type=' + type + '&check=' + encodeURIComponent(check));
        close();
      }
      // if(type == 'update'){
        // opener.location.replace('/board/BoardUpdatePage.do?boardNo=' + boardNo);
        // close();
      // }else{
        // opener.location.replace('/board/DeleteBoard.do?boardNo=' + boardNo);
        // close();
      // }
    }
  </script>

</body>
</html>